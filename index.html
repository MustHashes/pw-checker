<html>
	<head>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src="/js/zxcvbn.js"></script>
		<link href="//netdna.bootstrapcdn.com/bootswatch/3.1.0/yeti/bootstrap.min.css" rel="stylesheet">
		<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
		<style>


			@media screen and (max-width: 500px){
				.start, .rules, .quit{
				border-radius: 30px;
				min-width: 80%;
				}
			}
			.canvas-container{
				background: transparent;
				opacity: .5;
				box-shadow: 1px 5px 4px 4px #ccc;
				min-height: 60%;
				max-width: 80%;
				margin: 0 auto;
				clear: both;
				float: center;
			}
			.content{
				-webkit-transition:all .5s ease-in-out;
				opacity: 1;
			}
			.slide-out{
				-webkit-transform:translate3d(-500%, 0, 0);
				opacity: 0;
			}
			.slide-in{
				-webkit-transform:translate3d(1000%, 0, 0);
				opacity: 0;
			}
			.form{
				float: center;
				clear: both;
			}
			.lock{
				font-size: 4em;
				color: #FFAA06;
			}
			.padding-top{
				margin-top: 10px;
			}
			.start, .rules, .quit{
				border-radius: 30px;
				min-width: 40%;
			}
			.target{
				margin-right: 5%;
				width: 90px;
				height: 90px;
			}
			.target-content{
				margin-left: 20%;\
				min-width: 70%;
			}
			.title{
				margin: 0 auto;
				float:center;
				text-align: center;
			}
		</style>
		<script>
		window.requestAnimFrame = (function(){
			return  window.requestAnimationFrame       ||
			      window.webkitRequestAnimationFrame ||
			      window.mozRequestAnimationFrame    ||
			      function( callback ){
			        window.setTimeout(callback, 1000 / 60);
			      };
		})();

			var Mhash = {};
			Mhash.results = $.parseHTML("<div class='row' id='results'><div class='col-md-2'></div><div class='col-md-8'><h3 id='entropy'></h3><h3 id='score'></h3></div></div>");
			Mhash.start = $.parseHTML("<div class='row'><button type='submit' class='start btn btn-success btn-lg padding-top clearfix center-block'>Start</button><button type='submit' class='rules btn btn-info btn-lg padding-top clearfix center-block'>Rules</button></div>");
			Mhash.canvas= $.parseHTML("<div class='canvas-container'><canvas id='game'></canvas></div>");

			Mhash.params;
			Mhash.over=$.parseHTML("<div class='row'><div class='col-md-2'></div><div class='col-md-8'><h1 class='center-block text-center'>Game Over</h1></div></div><div class='row'><div class='col-md-4'></div><div class='col-md-4'><button class='btn start btn-default center-block'>Try Again?</button><button class='btn quit btn-danger center-block padding-top'>Quit</button></div></div>");
			Mhash.lock = $.parseHTML("<h3 class='lock'><i class='fa fa-lock lock fa-6'></i></h3>");
			Mhash.dys = (function(){

			//Global paramters for your game loop
			//The purpose of these is to hold references to your game elements
			//and things like jquery objects that are expensive to create on each loop
			var defaults = {
				init1: {},
				init2: {},
				init3: {},
				difficulty: 0,
				height: 0,
				width: 0,
				passwords: 0,
				isGameplay: false,
				isMenu: false,
				isGameOver: false},
				canvas,
				context,
				$container,
				enemies = [],
				targets = [],
				imgs = [
				'/img/icons/no border/facebook500.png',
				'/img/icons/no border/googleplus.png',
				'/img/icons/no border/twitter.png',
				'/img/icons/no border/email.png',
				'/img/icons/no border/instagram.png',
				];

			var init = function(params){
				//This enables you to pass a js object
				//as an argument to your game loop and initializes variables based on them.
				defaults = $.extend({}, defaults, params || {});

				//Get the canvas element, grab the 2d context to be able to manipulate it from each of the helper functions
				canvas = document.getElementById('game');
				$container = $('.canvas-container');

				//Set canvas height and width to size of container for responsive goodness
				canvas.height = 800;
				canvas.width = $container.innerWidth();
				console.log(canvas.height + ", " + canvas.width);
			    context = canvas.getContext("2d");

			    //Initialize enemies

			    //Initialize targets

			    //Start event loop
				    enemies = [];
				    forts = [];
				    var num_forts = 1,
				    	num_icons = 5;
				    switch (defaults.difficulty){
				    	case 0: 
				    		num_forts = 5;
				    		num_icons = 1;
				    		break;
				    	case 1:
				    		num_forts = 3;
				    		num_icons = 2;
				    		break;
				    	case 2:
				    		num_forts = 1;
				    		num_icons = 5;
				    		break;
				    	default:
				    		break;
				    }
				    var firstPos = {
				    	x : (canvas.width / 5 )/2,
				    	y: canvas.height - 100
				    }
				    drawing1 = new Image();
					drawing1.src = imgs[0];
					drawing2 = new Image();
					drawing2.src = imgs[1];
					drawing3 = new Image();
					drawing3.src = imgs[2];
					drawing4 = new Image();
					drawing4.src = imgs[3];
					drawing5 = new Image();
					drawing5.src = imgs[4];
				    context.drawImage(drawing1,130,500, 100, 100);
				    context.drawImage(drawing2,410,500, 100, 100);
				    context.drawImage(drawing3,700,500, 100, 100);
				    context.drawImage(drawing4,980,500, 100, 100);
				    context.drawImage(drawing5,1270,500, 100, 100);
				    isMenu = true;
				    console.log("it got here!");

				    //run(e);
				};

				var plotParticles = function(){
					var currentParticles = [];
			          for (var i = 0; i < particles.length; i++) {
			            var particle = particles[i];
			            var pos = particle.pos;
			         
			            // If we're out of bounds, drop this particle and move on to the next
			            if (pos.x <= 100 || pos.x >= canvas.width || pos.y <= 0 || pos.y >= canvas.height){
			                continue;
			            } 
			            else{
			                 // Move our particles
			            particle.move();
			         
			            // Add this particle to the list of current particles
			            currentParticles.push(particle);
			          }
			         
			          // Update our global particles, clearing room for old particles to be collected   
			        }      
			        particles = currentParticles;
				};

				var drawParticles = function(){
					for (var i = 0; i < particles.length; i++) {
			            context.fillStyle = particles[i].color;
			            var position = particles[i].pos;
			            context.fillRect(position.x, position.y, 4, 4);
			        }
				};
				var initRun = function(e){
					run(e);
				}

				var run = function(e){
					//Replace this if with your halt condition
					//This can be replaced with a "while(true)", but this will have serious performance implications
					if(!isGameOver)
					{       
					  //Private animation loop functions

					  //Resets the canvas to its initial state	
			          clear();
			          //Update position of all elements on the canvas
			          update();
			          //Draw updated elements
			          draw();
			          //Add current context to the animation frame queue
			          queue();
			        }
			        else{
			           clear();
			        }
				};

				var queue = function () {
					//Add the animation loop to the frame queue
			        window.requestAnimFrame(run);
			    };
			   var update = function() {
			        //define position updating logic here
			        
			        //update enemy weapon particle position

			        //update target health

			        //generate random events? 
			        //Eg. random compromise based on site security, 
			    };

				var draw = function() {
				  //define image drawing (read: context updating) logic here
				  
				  //Draw all objects in current context (menu, gameplay, etc.)
				};

				var clear = function(){
					canvas.width = canvas.width;
				};


				//This return statement should contain a js object
				//of every "public" function for your module
				return{
					init: init
				};	


			})();


			$(document).ready(function(){
				var $this = $(this),
					result = {};
					$this.on('click', '.check-button', function(e){
						e.preventDefault();
						result = zxcvbn($('#pw').val());
						$('.content').addClass('slide-out');
						setTimeout(function(){
							$('.content').addClass('slide-in').removeClass('slide-out');
							$('.content').html(Mhash.start);
							$('.title').append(Mhash.lock);
							//$('#entropy').html('Entropy: ' + result.entropy);
							//$('#score').html('Score: ' + result.score);
						}, 800);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
						}, 1250);
					})
					.on('click', '.start', function(e){
						$('.content').addClass('slide-out');
						setTimeout(function(){
							$('.lock').css('display', 'none');
							$('.content').addClass('slide-in').removeClass('slide-out');
							//$('#entropy').html('Entropy: ' + result.entropy);
							//$('#score').html('Score: ' + result.score);
						}, 600);
						$('.content').html(Mhash.canvas);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
								//setTimeout(function(){
								//	$this.trigger('gameOver');
								//},2000);
						}, 1250);
						Mhash.dys.init();
					})
					.on('click', '.rules', function(e){
						$('#rulesModal').modal()
					})
					
					.on('click', '.easy', function(e){
						console.log('Easy Mode has been Selected');
						$('.content').addClass('slide-out');
						setTimeout(function(){
							//$('.lock').css('display', 'none');
							$('.content').addClass('slide-in').removeClass('slide-out');
							$('.content').html(/*Mhash.canvas*/);
							//$('#entropy').html('Entropy: ' + result.entropy);
							//$('#score').html('Score: ' + result.score);
						}, 600);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
								setTimeout(function(){
									//$this.trigger('gameOver');
								},2000);
						}, 1250);
						
					})
					.on('click', '.medium', function(e){
						console.log('Medium Mode has been Selected');
						$('.content').addClass('slide-out');
						setTimeout(function(){
							//$('.lock').css('display', 'none');
							$('.content').addClass('slide-in').removeClass('slide-out');
							$('.content').html(/*Mhash.canvas*/);
							//$('#entropy').html('Entropy: ' + result.entropy);
							//$('#score').html('Score: ' + result.score);
						}, 600);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
								setTimeout(function(){
									//$this.trigger('gameOver');
								},2000);
						}, 1250);
					})
					.on('click', '.hard', function(e){
						console.log('Hard Mode has been Selected');
						$('.content').addClass('slide-out');
						setTimeout(function(){
							//$('.lock').css('display', 'none');
							$('.content').addClass('slide-in').removeClass('slide-out');
							$('.content').html(/*Mhash.canvas*/);
							//$('#entropy').html('Entropy: ' + result.entropy);
							//$('#score').html('Score: ' + result.score);
						}, 600);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
								setTimeout(function(){
									//$this.trigger('gameOver');
								},2000);
						}, 1250);
					})	
					.on('gameOver', function(e){
						$('.content').addClass('slide-out');
						setTimeout(function(){
							$('.content').addClass('slide-in').removeClass('slide-out');
							$('.lock').css('display', '');
							$('.content').html(Mhash.over);
							//$('#entropy').html('Entropy: ' + result.entropy);
							//$('#score').html('Score: ' + result.score);
						}, 600);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
						}, 1250)
					})
					.on('click', '.quit', function(e){
						e.preventDefault();
						$('.content').addClass('slide-out');
						setTimeout(function(){
							$('.content').addClass('slide-in').removeClass('slide-out');
							$('.content').html(Mhash.start);
							$('.lock').css('display', '');
							console.log(Mhash.lock);
							//$('#entropy').html('Entropy: ' + result.entropy);
							//$('#score').html('Score: ' + result.score);
						}, 600);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
						}, 1250);
					});
			});
		</script>
	</head>
	<body>
		<header>
		<nav class="navbar navbar-default" role="navigation">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="#">Password Checker</a>
		    </div>

		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
		      </ul>
		      <ul class="nav navbar-nav navbar-right">
		        <li style="color: white;"><h4>Team Must Hashes</h4></li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
		</nav>
		</header>
		<main>
			<div class="title">
				<h3>Check Yo Password</h3>
			</div>
			<div class="container-fluid content">
				<div class="row">
					<div class="col-md-2"></div>
					<div class="col-md-8">
						<form class="form" role="form"> 
						    <input type="password" class="form-control" id="pw" placeholder="Password" style="min-width:50%;">
							<button type="submit" class="check-button btn btn-primary btn-lg padding-top clearfix center-block">How's My Password?</button>
						</form>
					</div>
				</div>
			</div>
			<div class='modal fade' id='rulesModal' tabindex='-1' role='dialog' aria-labelledby='rulesLabel' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h4 class='modal-title' id='rulesLabel'>Rules</h4></div><div class='modal-body'><ul><li>/*RULES*/</li><ul></div></div></div></div>
		</main>
		<footer>
		</footer>
	</body>
</html>
