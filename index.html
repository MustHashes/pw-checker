<html>
	<head>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src="/js/zxcvbn.js"></script>
		<link href="//netdna.bootstrapcdn.com/bootswatch/3.1.0/yeti/bootstrap.min.css" rel="stylesheet">
		<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
		<style>


			@media screen and (max-width: 500px){
				.start, .rules, .quit, .hard, .medium, .easy, .submit{
				border-radius: 30px;
				min-width: 80%;
				}
			}
			.canvas-container{
				background: #333;
				box-shadow: 1px 5px 4px 4px #ccc;
				min-height: 60%;
				max-width: 80%;
				margin: 0 auto;
				clear: both;
				float: center;
			}
			.content{
				-webkit-transition:all .5s ease-in-out;
				opacity: 1;
			}
			.slide-out{
				-webkit-transform:translate3d(-500%, 0, 0);
				opacity: 0;
			}
			.slide-in{
				-webkit-transform:translate3d(1000%, 0, 0);
				opacity: 0;
			}
			.form{
				float: center;
				clear: both;
			}
			.lock{
				font-size: 4em;
				color: #FFAA06;
			}
			.padding-top{
				margin-top: 10px;
			}
			.start, .rules, .quit{
				border-radius: 30px;
				min-width: 40%;
			}
			
			.hard{
				margin-top: 12%;
				border-radius: 30px;
				min-width: 40%;
			}
			.medium, .easy, .submit{
				border-radius: 30px;
				min-width: 40%;
			}
			
			.top-space{
				margin-top: 8%;
			}
			
			.target{
				margin-right: 5%;
				width: 90px;
				height: 90px;
			}
			.target-content{
				margin-left: 20%;\
				min-width: 70%;
			}
			.title{
				margin: 0 auto;
				float:center;
				text-align: center;
			}
		</style>
		<script>
		window.requestAnimFrame = (function(){
			return  window.requestAnimationFrame       ||
			      window.webkitRequestAnimationFrame ||
			      window.mozRequestAnimationFrame    ||
			      function( callback ){
			        window.setTimeout(callback, 1000 / 60);
			      };
		})();

			var Mhash = {};
			Mhash.Enemy = function(pos, img){
				this.bullets = [];

				this.pos = {};
				this.pos.x = pos.x || 0;
				this.pos.y = pos.y || 0;

				this.img = img;
			};
			Mhash.Bullet = function(pos, target, vel, usePhysics) {
				  // properties for animation
				  // and colouring
				  this.GRAVITY  = 0.06;

				  this.pos = {
				    x: pos.x || 0,
				    y: pos.y || 0
				  };

				  this.lastPos = {
				    x: this.pos.x,
				    y: this.pos.y
				  };
				  this.vel = {
				    x: vel.x || 10,
				    y: vel.y || 10
				  };

				  this.lastPos = {
				    x: this.pos.x,
				    y: this.pos.y
				  };

				  this.usePhysics = usePhysics || false;

			};
			Mhash.Bullet.prototype.move = function(){
			    this.lastPos.x = this.pos.x;
			    this.lastPos.y = this.pos.y;

			    this.vel.y += this.GRAVITY;
			    this.pos.y += this.vel.y;

			    this.pos.x += this.vel.x;
			};

			Mhash.results = $.parseHTML("<div class='row' id='results'><div class='col-md-2'></div><div class='col-md-8'><h3 id='entropy'></h3><h3 id='score'></h3></div></div>");
			Mhash.start = $.parseHTML("<div class='row'><button type='submit' class='start btn btn-success btn-lg padding-top clearfix center-block'>Start</button><button type='submit' class='rules btn btn-info btn-lg padding-top clearfix center-block'>Rules</button></div>");
			Mhash.canvas= $.parseHTML("<div class='canvas-container'><canvas id='game'></canvas></div>");
			
			Mhash.modes = $.parseHTML("<div class='row'><button type='submit' class='hard btn btn-danger btn-lg padding-top clearfix center-block'>Hard</button><button type='submit' class='medium btn btn-warning btn-lg padding-top clearfix center-block'>Medium</button><button type='submit' class='easy btn btn-success btn-lg padding-top clearfix center-block'>Easy</button></div>");
			Mhash.easyPassword = $.parseHTML("<div class='row'><div class='form-group has-success has-feedback col-md-4 col-md-offset-4'><label class='sr-only' for='easy1'></label><input type='password' class='form-control center-block' id='easy1' placeholder='Password #1'></div></div><div class='row'><div class='form-group has-success has-feedback col-md-4 col-md-offset-4'><label class='sr-only' for='easy1'></label><input type='password' class='form-control center-block' id='easy1' placeholder='Password #1'></div></div><div class='row'><div class='form-group has-success has-feedback col-md-4 col-md-offset-4'><label class='sr-only' for='easy1'></label><input type='password' class='form-control center-block' id='easy1' placeholder='Password #1'></div></div><div class='row'><div class='form-group has-success has-feedback col-md-4 col-md-offset-4'><label class='sr-only' for='easy1'></label><input type='password' class='form-control center-block' id='easy1' placeholder='Password #1'></div></div><div class='row'><div class='form-group has-success has-feedback col-md-4 col-md-offset-4'><label class='sr-only' for='easy1'></label><input type='password' class='form-control center-block' id='easy1' placeholder='Password #1'></div></div>");
			
			Mhash.params;
			Mhash.over=$.parseHTML("<div class='row'><div class='col-md-2'></div><div class='col-md-8'><h1 class='center-block text-center'>Game Over</h1></div></div><div class='row'><div class='col-md-4'></div><div class='col-md-4'><button class='btn start btn-default center-block'>Try Again?</button><button class='btn quit btn-danger center-block padding-top'>Quit</button></div></div>");
			Mhash.lock = $.parseHTML("<h3 class='lock'><i class='fa fa-lock lock fa-6'></i></h3>");
			Mhash.dys = (function(){

			//Global paramters for your game loop
			//The purpose of these is to hold references to your game elements
			//and things like jquery objects that are expensive to create on each loop
			var defaults = {
				init1: {},
				init2: {},
				init3: {},
				difficulty: 0,
				height: 0,
				width: 0,
				passwords: 0,
				isGameplay: false,
				isMenu: false,
				isGameOver: false},
				canvas,
				context,
				$container,
				enemies = [],
				targets = [],
				imgs = [
				'/img/icons/no border/facebook500.png',
				'/img/icons/no border/googleplus-revised.png',
				'/img/icons/no border/twitter.png',
				'/img/icons/no border/email.png',
				'/img/icons/no border/instagram.png',
				]
				e_img = '/img/enemy.png';

			var init = function(params){
				//This enables you to pass a js object
				//as an argument to your game loop and initializes variables based on them.
				defaults = $.extend({}, defaults, params || {});

				//Get the canvas element, grab the 2d context to be able to manipulate it from each of the helper functions
				canvas = document.getElementById('game');
				$container = $('.canvas-container');

				//Set canvas height and width to size of container for responsive goodness
				canvas.height = 800;
				canvas.width = $container.innerWidth();
				console.log(canvas.height + ", " + canvas.width);
			    context = canvas.getContext("2d");

			    //Initialize enemies
				    enemies = [];
				    for(var i = 0; i < 3; i++){
				    	var temp = {};
				    		temp.x = 300 + (300 * i);
							temp.y = 100;
				    	enemies[i] = new Mhash.Enemy(temp, e_img);
				    	
					    var count = 100;
					    var angle = (Math.PI) / count;

					    while(count--) {
					        var randomVelocity =  5;
					        var particleAngle = angle;

					        bullets[100-count-1] = new Bullet(
					            {x:enemies[i].pos.x+100, y:enemies[i].pos.y+200}, null,
					            {
					            x: Math.cos(particleAngle) * randomVelocity,
					            y: Math.sin(particleAngle) * randomVelocity
					            }, false);
						}
					}

				    forts = [];
				    var num_forts = 1,
				    	num_icons = 5;
				    switch (defaults.difficulty){
				    	case 0: 
				    		num_forts = 5;
				    		num_icons = 1;
				    		break;
				    	case 1:
				    		num_forts = 3;
				    		num_icons = 2;
				    		break;
				    	case 2:
				    		num_forts = 1;
				    		num_icons = 5;
				    		break;
				    	default:
				    		break;
				    }
				    var pos = {
				    	x : 130,
				    	y: 700
				    };
				    drawing1 = new Image();
					drawing1.src = imgs[0];
					drawing2 = new Image();
					drawing2.src = imgs[1];
					drawing3 = new Image();
					drawing3.src = imgs[2];
					drawing4 = new Image();
					drawing4.src = imgs[3];
					drawing5 = new Image();
					drawing5.src = imgs[4];
				    context.drawImage(drawing1,pos.x,pos.y, 100, 100);
				    context.drawImage(drawing2,pos.x + 260,pos.y, 100, 100);
				    context.drawImage(drawing3,pos.x + 520,pos.y, 100, 100);
				    context.drawImage(drawing4,pos.x + 780,pos.y, 100, 100);
				    context.drawImage(drawing5,pos.x + 1040,pos.y, 100, 100);
				    isMenu = true;
				    context.strokeStyle = 'rgb(0,255,0)';
      				context.lineWidth = 10;
				    for(var i = 0; i<5; i++){
					    context.beginPath();
						context.arc(180+(260*i), 750, 100, 0, Math.PI*2, true);
						context.stroke(); 
						context.closePath();
					}

				    run();
				};

				var updateBullets = function(){
					for(var i = 0; i < 3; i++){
						var current = enemies[i];
						for(var j = 0; j < current.bullets.length; j++){
							current.bullets[j].move();
						}
					}
				};
				var drawBullets = function(){
					for(var i = 0; i < 3; i++){
						var current = enemies[i];
						for(var j = 0; j < current.bullets.length; j++){
							current.bullets[j].move();
						}
					}
				};

				var run = function(){
					//Replace this if with your halt condition
					//This can be replaced with a "while(true)", but this will have serious performance implications
					
					if(!defaults.isGameOver)
					{       
					  //Private animation loop functions

					  //Resets the canvas to its initial state	
			          clear();
			          //Update position of all elements on the canvas
			          update();
			          //Draw updated elements
			          draw();
			          //Add current context to the animation frame queue
			          queue();
			        }
			        else{
			           clear();
			        }
				};

				var queue = function () {
					//Add the animation loop to the frame queue
			        window.requestAnimFrame(run);
			    };
			    
			    var update = function() {
			        //define position updating logic here
			        
			        updateBullets();
			        //update target health

			        //generate random events? 
			        //Eg. random compromise based on site security, 
			    };

			    // returns health to decrease (either random compromise)
			    // or the portion of maxhealth to kill kill kill
			    var calculate = function(seconds, totalhits) {
			    	if (Math.random() < 0.01 * seconds/100) {
			    		// random compromise
			    	}
			    	
			    	// square totalhits on the obj, then take away said totalhits
			    	// from maxHealth
			    	return totalhits^2;
			    };

				var draw = function() {
				  	//define image drawing (read: context updating) logic here

				  	//Draw all objects in current context (menu, gameplay, etc.)

				    var pos = {
				    	x : 130,
				    	y: 700
				    };
				  	drawing1 = new Image();
					drawing1.src = imgs[0];
					drawing2 = new Image();
					drawing2.src = imgs[1];
					drawing3 = new Image();
					drawing3.src = imgs[2];
					drawing4 = new Image();
					drawing4.src = imgs[3];
					drawing5 = new Image();
					drawing5.src = imgs[4];
				    context.drawImage(drawing1,pos.x,pos.y, 100, 100);
				    context.drawImage(drawing2,pos.x + 260,pos.y, 100, 100);
				    context.drawImage(drawing3,pos.x + 520,pos.y, 100, 100);
				    context.drawImage(drawing4,pos.x + 780,pos.y, 100, 100);
				    context.drawImage(drawing5,pos.x + 1040,pos.y, 100, 100);
				    isMenu = true;
				    context.strokeStyle = 'rgb(0,255,0)';
      				context.lineWidth = 10;
				    for(var i = 0; i<5; i++){
					    context.beginPath();
						context.arc(180+(260*i), 750, 100, 0, Math.PI*2, true);
						context.stroke(); 
						context.closePath();
					}

					//Dynamically update enemies!

					for(var i = 0; i < 3; i++){
				    	enemy = new Image();	
						enemy.src = enemies[i].img;
						context.drawImage(enemy, enemies[i].pos.x, enemies[i].pos.y, 200, 200);
				    }
				    drawBullets();
					console.log('animating');


				};

				var clear = function(){
					canvas.width = canvas.width;
				};


				//This return statement should contain a js object
				//of every "public" function for your module
				return{
					init: init
				};	


			})();


			$(document).ready(function(){
				var $this = $(this),
					result = {};
					$this.on('click', '.check-button', function(e){
						e.preventDefault();
						console.log(zxcvbn($('#pw').val()));
						$('.content').addClass('slide-out');
						setTimeout(function(){
							$('.content').addClass('slide-in').removeClass('slide-out');
							$('.content').html(Mhash.start);
							$('.title').append(Mhash.lock);
						}, 800);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
						}, 1250);

					})
					.on('click', '.start', function(e){
						$('.content').addClass('slide-out');
						setTimeout(function(){
							$('.lock').css('display', 'none');
							$('.content').html(Mhash.modes);
							$('.content').addClass('slide-in').removeClass('slide-out');
						}, 600);
						
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
								//setTimeout(function(){
								//	$this.trigger('gameOver');
								//},2000);
						}, 1250);
					})
					.on('click', '.rules', function(e){
						$('#rulesModal').modal()
					})
<<<<<<< Updated upstream
					
					.on('click', '.easy', function(e){
						console.log('Easy Mode has been Selected');
						$('.content').addClass('slide-out');
						setTimeout(function(){
							var passField = "<div class='row top-space'></div>";
							for(var i=1;i<=5;i++)
								passField += "<div class='row'><div class='form-group has-success has-feedback col-md-4 col-md-offset-4'><label class='sr-only' for='easy" + i + "'></label><input type='password' class='form-control center-block' id='easy" + i + "' placeholder='Password #" + i + "'></div></div>";
							passField += "<div class='row'><button type='submit' class='submit btn btn-success btn-lg padding-top clearfix center-block'>Submit</button>";
							$('.content').html($.parseHTML(passField));
						
							$('.content').addClass('slide-in').removeClass('slide-out');
						}, 600);
						
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
								setTimeout(function(){
									//$this.trigger('gameOver');
								},2000);
						}, 1250);
						
					})
					.on('click', '.submit', function(e){
						$('.content').addClass('slide-out');
						setTimeout(function(){
							$('.content').html(Mhash.canvas);
							Mhash.dys.init();
							$('.content').addClass('slide-in').removeClass('slide-out');
						}, 600);
						
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
								setTimeout(function(){
									//$this.trigger('gameOver');
								},2000);
						}, 1250);
						
					})
					
					.on('click', '.medium', function(e){
						console.log('Medium Mode has been Selected');
						$('.content').addClass('slide-out');
						setTimeout(function(){
							var passField = "<div class='row top-space'></div>";
							for(var i=1;i<=3;i++)
								passField += "<div class='row'><div class='form-group has-success has-feedback col-md-4 col-md-offset-4'><label class='sr-only' for='easy" + i + "'></label><input type='password' class='form-control center-block' id='easy" + i + "' placeholder='Password #" + i + "'></div></div>";
							passField += "<div class='row'><button type='submit' class='submit btn btn-success btn-lg padding-top clearfix center-block'>Submit</button>";
							$('.content').html($.parseHTML(passField));
							
							$('.content').addClass('slide-in').removeClass('slide-out');
						}, 600);
						
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
								setTimeout(function(){
									//$this.trigger('gameOver');
								},2000);
						}, 1250);
					})
					.on('click', '.hard', function(e){
						console.log('Hard Mode has been Selected');
						$('.content').addClass('slide-out');
						setTimeout(function(){
							var passField = "<div class='row top-space'></div>";
							for(var i=1;i<=1;i++)
								passField += "<div class='row'><div class='form-group has-success has-feedback col-md-4 col-md-offset-4'><label class='sr-only' for='easy" + i + "'></label><input type='password' class='form-control center-block' id='easy" + i + "' placeholder='Password #" + i + "'></div></div>";
							passField += "<div class='row'><button type='submit' class='submit btn btn-success btn-lg padding-top clearfix center-block'>Submit</button>";
							$('.content').html($.parseHTML(passField));
							
							$('.content').addClass('slide-in').removeClass('slide-out');
						}, 600);
						
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
								setTimeout(function(){
									//$this.trigger('gameOver');
								},2000);
						}, 1250);
					})	
=======
>>>>>>> Stashed changes
					.on('gameOver', function(e){
						$('.content').addClass('slide-out');
						setTimeout(function(){
							$('.content').addClass('slide-in').removeClass('slide-out');
							$('.lock').css('display', '');
							$('.content').html(Mhash.over);
							//$('#entropy').html('Entropy: ' + result.entropy);
							//$('#score').html('Score: ' + result.score);
						}, 600);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
							console.log('width: ' + $('.content').innerWidth() + ", height: " + $('.content').innerHeight());
						}, 1250)
					})
					.on('click', '.quit', function(e){
						e.preventDefault();
						$('.content').addClass('slide-out');
						setTimeout(function(){
							$('.content').addClass('slide-in').removeClass('slide-out');
							$('.content').html(Mhash.start);
							$('.lock').css('display', '');
							console.log(Mhash.lock);
							//$('#entropy').html('Entropy: ' + result.entropy);
							//$('#score').html('Score: ' + result.score);
						}, 600);
						setTimeout(function(){
							$('.content').removeClass('slide-in');
						}, 1250);
					});
			});
		</script>
	</head>
	<body>
		<header>
		<nav class="navbar navbar-default" role="navigation">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="#">Password Checker</a>
		    </div>

		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
		      </ul>
		      <ul class="nav navbar-nav navbar-right">
		        <li style="color: white;"><h4>Team Must Hashes</h4></li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
		</nav>
		</header>
		<main>
			<div class="title">
				<h3>Check Yo Password</h3>
			</div>
			<div class="container-fluid content">
				<div class="row">
					<div class="col-md-2"></div>
					<div class="col-md-8">
						<form class="form" role="form"> 
						    <input type="password" class="form-control" id="pw" placeholder="Password" style="min-width:50%;">
							<button type="submit" class="check-button btn btn-primary btn-lg padding-top clearfix center-block">How's My Password?</button>
						</form>
					</div>
				</div>
			</div>
			<div class='modal fade' id='rulesModal' tabindex='-1' role='dialog' aria-labelledby='rulesLabel' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h4 class='modal-title' id='rulesLabel'>Rules</h4></div><div class='modal-body'>The goal of the game is to make sure that your fortresses are not defeated by space invaders (or in this case, passwords against hackers). <b>Your best offense is a strong defense</b>, so make sure to utilise strong passwords.<ul><li>Make sure it's sufficiently long.</li><li>It should contain a variety of characters.</li><li>Make sure you can <em>remember</em> it!</li><li>Use common sense when choosing what password protects what service.</li><ul></div></div></div></div>
		</main>
		<footer>
		</footer>
	</body>
</html>
